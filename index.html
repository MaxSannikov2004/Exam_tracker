<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exam Tracker ‚Äî –≤—ã–±–æ—Ä —ç–∫–∑–∞–º–µ–Ω–æ–≤</title>

  <!-- –®—Ä–∏—Ñ—Ç (–µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –ø—Ä–æ—Å—Ç–æ –±—É–¥–µ—Ç fallback –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–π) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

  
<script>
  (function(){
    const t = localStorage.getItem("examTracker.theme") || "light";
    document.documentElement.dataset.theme = t;
  })();
</script>
<style>
    :root{
  --bg: #0b1020;
  --overlay: rgba(11,16,32,.78);

  --card: rgba(255,255,255,.10);
  --card2: rgba(255,255,255,.14);
  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.70);
  --line: rgba(255,255,255,.18);

  --inputBg: rgba(0,0,0,.25);
  --placeholder: rgba(255,255,255,.55);
  --pillBg: rgba(0,0,0,.18);
  --examBg: rgba(0,0,0,.22);
  --examHoverBg: rgba(0,0,0,.26);

  --chipBg: rgba(255,255,255,.08);
  --chipText: rgba(255,255,255,.78);

  --accent: #7aa2ff;
  --accent2:#ff8a3d;
  --shadow: 0 12px 30px rgba(0,0,0,.35);
  --r: 18px;
}

html[data-theme="light"]{
  --bg: #f5f7ff;
  --overlay: rgba(245,247,255,.86);

  --card: rgba(255,255,255,.92);
  --card2: rgba(255,255,255,.96);
  --text: rgba(17,24,39,.92);
  --muted: rgba(17,24,39,.62);
  --line: rgba(17,24,39,.14);

  --inputBg: rgba(255,255,255,.92);
  --placeholder: rgba(17,24,39,.45);
  --pillBg: rgba(255,255,255,.86);
  --examBg: rgba(255,255,255,.80);
  --examHoverBg: rgba(255,255,255,.92);

  --chipBg: rgba(17,24,39,.06);
  --chipText: rgba(17,24,39,.70);

  --shadow: 0 10px 24px rgba(0,0,0,.12);
}

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: Roboto, system-ui, -apple-system, Segoe UI, Arial, sans-serif;
      color: var(--text);
      min-height:100vh;
      background-color: var(--bg);
      background-image:
        linear-gradient(180deg, var(--overlay), var(--overlay)),
        url("image/image.png");
      background-size: cover;
      background-position: center;
      background-repeat:no-repeat;
    }

    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 22px 16px 40px;
    }

    header{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:16px;
      margin-bottom: 14px;
    }

    .title h1{
      margin: 0;
      font-size: 28px;
      letter-spacing: .2px;
    }
    .title p{
      margin: 6px 0 0;
      color: var(--muted);
      line-height: 1.35;
    }

    .card{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      overflow:hidden;
    }

    .card .inner{
      padding: 16px;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    @media (min-width: 840px){
      .grid{
        grid-template-columns: 360px 1fr;
        align-items:start;
      }
    }

    label{
      display:block;
      font-weight: 500;
      margin-bottom: 8px;
      color: var(--text);
    }
    input[type="time"], input[type="search"], select{
      width: 100%;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: var(--inputBg);
      color: var(--text);
      outline: none;
    }
    input::placeholder{ color: var(--placeholder); }

    .row{ margin-bottom: 12px; }

    .toolbar{
      display:flex;
      gap:10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    button{
      border: 0;
      border-radius: 12px;
      padding: 10px 14px;
      font-weight: 600;
      cursor: pointer;
      color: #0b1020;
      background: linear-gradient(135deg, var(--accent), #b2c7ff);
    }
    button:hover{ filter: brightness(1.03); }
    button:disabled{
      opacity: .45;
      cursor: not-allowed;
      filter:none;
    }
    .ghost{
      color: var(--text);
      background: rgba(255,255,255,.10);
      border: 1px solid var(--line);
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      color: var(--muted);
      font-size: 13px;
      border: 1px solid var(--line);
      padding: 8px 10px;
      border-radius: 999px;
      background: var(--pillBg);
    }

.headerRight{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap: 10px;
  flex-wrap: wrap;
}

.themeBtn{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  border-radius: 999px;
  padding: 8px 10px;
  border: 1px solid var(--line);
  background: var(--pillBg);
  color: var(--muted);
  cursor: pointer;
  font-weight: 600;
  user-select: none;
}
.themeBtn b{ color: var(--text); font-weight: 800; }


    .examPane{
      border-top: 1px solid var(--line);
      padding-top: 10px;
      margin-top: 10px;
    }

    .group{
      margin-top: 10px;
      border-top: 1px dashed rgba(255,255,255,.18);
      padding-top: 12px;
    }
    .group:first-child{
      border-top: none;
      padding-top: 0;
      margin-top: 0;
    }
    .group h3{
      margin: 0 0 10px;
      font-size: 14px;
      letter-spacing:.25px;
      color: var(--text);
      opacity: .85;
      text-transform: uppercase;
    }

    .examList{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    @media (min-width: 540px){
      .examList{ grid-template-columns: 1fr 1fr; }
    }

    .examItem{
      display:flex;
      gap: 10px;
      align-items:flex-start;
      padding: 12px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--examBg);
      transition: transform .08s ease, background-color .15s ease;
    }
    .examItem:hover{
      transform: translateY(-1px);
      background: var(--examHoverBg);
    }
    .examItem input{ margin-top: 3px; transform: scale(1.15); }
    .examMeta{ display:flex; flex-direction:column; gap:4px; }
    .examName{ font-weight:700; }
    .examSub{ color: var(--muted); font-size: 13px; line-height: 1.25; }
    .k{
  display:inline-block;
  font-size: 12px;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--line);
  color: var(--chipText);
  background: var(--chipBg);
  margin-left: 8px;
}

    .footerActions{
      margin-top: 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .hint{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
    }

    a{ color: var(--accent); }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="title">
        <h1>Exam Tracker</h1>
        <p>–í—ã–±–µ—Ä–∏ —ç–∫–∑–∞–º–µ–Ω—ã –∏ –∑–∞–¥–∞–π –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ ‚Äî –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç–∫—Ä–∞–Ω–µ –±—É–¥–µ—Ç <b>–≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è</b>, <b>—Ç–∞–π–º–µ—Ä ‚Äú–æ—Å—Ç–∞–ª–æ—Å—å‚Äù</b> –∏ –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∑–∞ 30/5 –º–∏–Ω—É—Ç –¥–æ –∫–æ–Ω—Ü–∞.</p>
      </div>
      <div class="headerRight">
        <button class="themeBtn" id="themeBtn" type="button" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">‚Äî</button>
        <div class="pill" id="selectedPill">–í—ã–±—Ä–∞–Ω–æ: 0</div>
      </div>
    </header>

    <div class="grid">
      <section class="card">
        <div class="inner">
          <div class="row">
            <label for="startTimeInput">–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —ç–∫–∑–∞–º–µ–Ω–∞ (–ú–°–ö / –°–∞–Ω–∫—Ç‚Äë–ü–µ—Ç–µ—Ä–±—É—Ä–≥)</label>
            <input type="time" id="startTimeInput" value="10:00" />
          </div>
<div class="row">
            <label for="examSearch">–ü–æ–∏—Å–∫</label>
            <input type="search" id="examSearch" placeholder="–ù–∞–ø—Ä.: –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –∞–Ω–≥–ª, –∏–Ω—Ñ–æ‚Ä¶" />
          </div>

          <div class="toolbar">
            <button class="ghost" type="button" id="selectAllBtn">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</button>
            <button class="ghost" type="button" id="clearAllBtn">–°–Ω—è—Ç—å –≤—Å–µ</button>
          </div>

          <div class="examPane">
            <div class="hint">
              –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π: –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–∏–∫–∞–∑ (—Å–º. –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∫–æ–¥–µ) ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏ —á–∞—Å—Ç–∏ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤.
            </div>
          </div>

          <div class="footerActions">
            <div class="hint" id="warnText"></div>
            <button id="continueBtn" type="button" disabled>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚Üí</button>
          </div>
        </div>
      </section>

      <section class="card">
        <div class="inner" id="examContainer"></div>
      </section>
    </div>
  </div>

<script>
  // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–≤ –º–∏–Ω—É—Ç–∞—Ö) —Å–æ–±—Ä–∞–Ω—ã –ø–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º—É –ø—Ä–∏–∫–∞–∑—É –ú–∏–Ω–ø—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è/–†–æ—Å–æ–±—Ä–Ω–∞–¥–∑–æ—Ä–∞
  // (–≤ 2025/2026 —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è –ø–æ –≥—Ä—É–ø–ø–∞–º –ø—Ä–µ–¥–º–µ—Ç–æ–≤).
  const EXAMS = [
    // –û—Å–Ω–æ–≤–Ω—ã–µ
    { id: "ege_russian", type: "–ï–ì–≠", subject: "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫", durationMin: 210, group: "–û—Å–Ω–æ–≤–Ω—ã–µ" },
    { id: "ege_math_base", type: "–ï–ì–≠", subject: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å)", durationMin: 180, group: "–û—Å–Ω–æ–≤–Ω—ã–µ" },
    { id: "ege_math_profile", type: "–ï–ì–≠", subject: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)", durationMin: 235, group: "–û—Å–Ω–æ–≤–Ω—ã–µ" },

    // –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ-–Ω–∞—É—á–Ω—ã–µ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ
    { id: "ege_physics", type: "–ï–ì–≠", subject: "–§–∏–∑–∏–∫–∞", durationMin: 235, group: "–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –ò–ö–¢" },
    { id: "ege_chemistry", type: "–ï–ì–≠", subject: "–•–∏–º–∏—è", durationMin: 210, group: "–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –ò–ö–¢" },
    { id: "ege_biology", type: "–ï–ì–≠", subject: "–ë–∏–æ–ª–æ–≥–∏—è", durationMin: 235, group: "–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –ò–ö–¢" },
    { id: "ege_informatics", type: "–ï–ì–≠", subject: "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ (–ö–ï–ì–≠)", durationMin: 235, group: "–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –ò–ö–¢" },
    { id: "ege_geography", type: "–ï–ì–≠", subject: "–ì–µ–æ–≥—Ä–∞—Ñ–∏—è", durationMin: 180, group: "–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –ò–ö–¢" },

    // –ì—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ
    { id: "ege_social", type: "–ï–ì–≠", subject: "–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ", durationMin: 210, group: "–ì—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ" },
    { id: "ege_history", type: "–ï–ì–≠", subject: "–ò—Å—Ç–æ—Ä–∏—è", durationMin: 210, group: "–ì—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ" },
    { id: "ege_literature", type: "–ï–ì–≠", subject: "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞", durationMin: 235, group: "–ì—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ" },

    // –ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏ (–ø–∏—Å—å–º–µ–Ω–Ω–æ/—É—Å—Ç–Ω–æ ‚Äî —Ä–∞–∑–Ω—ã–µ –¥–Ω–∏, –ø–æ—ç—Ç–æ–º—É –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—É–Ω–∫—Ç—ã)
    { id: "ege_en_written", type: "–ï–ì–≠", subject: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π ‚Äî –ø–∏—Å—å–º–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å", durationMin: 190, group: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏" },
    { id: "ege_en_oral", type: "–ï–ì–≠", subject: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π ‚Äî —É—Å—Ç–Ω–∞—è —á–∞—Å—Ç—å", durationMin: 17, group: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏" },

    { id: "ege_de_written", type: "–ï–ì–≠", subject: "–ù–µ–º–µ—Ü–∫–∏–π ‚Äî –ø–∏—Å—å–º–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å", durationMin: 190, group: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏" },
    { id: "ege_de_oral", type: "–ï–ì–≠", subject: "–ù–µ–º–µ—Ü–∫–∏–π ‚Äî —É—Å—Ç–Ω–∞—è —á–∞—Å—Ç—å", durationMin: 17, group: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏" },

    { id: "ege_fr_written", type: "–ï–ì–≠", subject: "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π ‚Äî –ø–∏—Å—å–º–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å", durationMin: 190, group: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏" },
    { id: "ege_fr_oral", type: "–ï–ì–≠", subject: "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π ‚Äî —É—Å—Ç–Ω–∞—è —á–∞—Å—Ç—å", durationMin: 17, group: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏" },

    { id: "ege_es_written", type: "–ï–ì–≠", subject: "–ò—Å–ø–∞–Ω—Å–∫–∏–π ‚Äî –ø–∏—Å—å–º–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å", durationMin: 190, group: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏" },
    { id: "ege_es_oral", type: "–ï–ì–≠", subject: "–ò—Å–ø–∞–Ω—Å–∫–∏–π ‚Äî —É—Å—Ç–Ω–∞—è —á–∞—Å—Ç—å", durationMin: 17, group: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏" },

    { id: "ege_zh_written", type: "–ï–ì–≠", subject: "–ö–∏—Ç–∞–π—Å–∫–∏–π ‚Äî –ø–∏—Å—å–º–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å", durationMin: 180, group: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏" },
    { id: "ege_zh_oral", type: "–ï–ì–≠", subject: "–ö–∏—Ç–∞–π—Å–∫–∏–π ‚Äî —É—Å—Ç–Ω–∞—è —á–∞—Å—Ç—å", durationMin: 14, group: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏" },
  ];

  const STORAGE_KEY = "examTracker.v2";
  const examContainer = document.getElementById("examContainer");
  const searchInput = document.getElementById("examSearch");
  const pill = document.getElementById("selectedPill");
  const warnText = document.getElementById("warnText");
  const continueBtn = document.getElementById("continueBtn");

const FIXED_TZ = "Europe/Moscow";

// –¢–µ–º–∞ (–æ–±—â–∞—è –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü)
const THEME_KEY = "examTracker.theme";
const themeBtn = document.getElementById("themeBtn");

function getTheme(){
  return localStorage.getItem(THEME_KEY) || "light";
}
function setTheme(t){
  document.documentElement.dataset.theme = t;
  localStorage.setItem(THEME_KEY, t);
  updateThemeBtn();
}
function updateThemeBtn(){
  const t = getTheme();
  themeBtn.innerHTML = (t === "dark")
    ? 'üåô <b>–¢—ë–º–Ω–∞—è</b>'
    : '‚òÄ <b>–°–≤–µ—Ç–ª–∞—è</b>';
}
themeBtn.addEventListener("click", () => {
  setTheme(getTheme() === "dark" ? "light" : "dark");
});
updateThemeBtn();


  function formatDuration(min){
    const h = Math.floor(min / 60);
    const m = min % 60;
    const parts = [];
    if (h) parts.push(`${h} —á`);
    if (m) parts.push(`${m} –º–∏–Ω`);
    return parts.join(" ");
  }

  function loadState(){
    try{
      return JSON.parse(localStorage.getItem(STORAGE_KEY)) || null;
    } catch(e){
      return null;
    }
  }

  function saveState(state){
    localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
  }

  function getSelectedIds(){
    return Array.from(document.querySelectorAll('input[name="exam"]:checked')).map(x => x.value);
  }

  function updatePill(){
    const count = getSelectedIds().length;
    pill.textContent = `–í—ã–±—Ä–∞–Ω–æ: ${count}`;
    continueBtn.disabled = count === 0;
    warnText.textContent = count === 0 ? "–í—ã–±–µ—Ä–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —ç–∫–∑–∞–º–µ–Ω." : "";
  }

  function render(){
    const q = (searchInput.value || "").trim().toLowerCase();
    const byGroup = new Map();
    for (const ex of EXAMS){
      const text = `${ex.type} ${ex.subject}`.toLowerCase();
      if (q && !text.includes(q)) continue;
      if (!byGroup.has(ex.group)) byGroup.set(ex.group, []);
      byGroup.get(ex.group).push(ex);
    }

    let html = "";
    for (const [group, items] of byGroup){
      html += `<div class="group"><h3>${group}</h3><div class="examList">`;
      for (const ex of items){
        html += `
          <label class="examItem">
            <input type="checkbox" name="exam" value="${ex.id}">
            <div class="examMeta">
              <div class="examName">${ex.subject}<span class="k">${formatDuration(ex.durationMin)}</span></div>
              <div class="examSub">${ex.type}</div>
            </div>
          </label>
        `;
      }
      html += `</div></div>`;
    }

    if (!html){
      html = `<div class="hint">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É ‚Äú${searchInput.value}‚Äù.</div>`;
    }

    examContainer.innerHTML = html;

    // –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ
    const state = loadState();
    if (state?.selectedExamIds?.length){
      const set = new Set(state.selectedExamIds);
      for (const el of document.querySelectorAll('input[name="exam"]')){
        el.checked = set.has(el.value);
      }
    }

    // —Å–ª—É—à–∞—Ç–µ–ª–∏ –Ω–∞ —á–µ–∫–±–æ–∫—Å—ã
    for (const el of document.querySelectorAll('input[name="exam"]')){
      el.addEventListener("change", () => {
        const state = loadState() || {};
        state.selectedExamIds = getSelectedIds();
        state.startTime = document.getElementById("startTimeInput").value;
        state.timeZone = FIXED_TZ;
        saveState(state);
        updatePill();
      });
    }

    updatePill();
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  (function init(){
    const state = loadState();
    if (state?.startTime) document.getElementById("startTimeInput").value = state.startTime;    document.getElementById("startTimeInput").addEventListener("change", () => {
      const state = loadState() || {};
      state.startTime = document.getElementById("startTimeInput").value;
      state.timeZone = FIXED_TZ;
      state.selectedExamIds = getSelectedIds();
      saveState(state);
    });    document.getElementById("selectAllBtn").addEventListener("click", () => {
      for (const el of document.querySelectorAll('input[name="exam"]')) el.checked = true;
      const state = loadState() || {};
      state.selectedExamIds = getSelectedIds();
      state.startTime = document.getElementById("startTimeInput").value;
      state.timeZone = FIXED_TZ;
      saveState(state);
      updatePill();
    });

    document.getElementById("clearAllBtn").addEventListener("click", () => {
      for (const el of document.querySelectorAll('input[name="exam"]')) el.checked = false;
      const state = loadState() || {};
      state.selectedExamIds = [];
      state.startTime = document.getElementById("startTimeInput").value;
      state.timeZone = FIXED_TZ;
      saveState(state);
      updatePill();
    });

    document.getElementById("examSearch").addEventListener("input", render);

    document.getElementById("continueBtn").addEventListener("click", () => {
      const state = loadState() || {};
      state.startTime = document.getElementById("startTimeInput").value;
      state.timeZone = FIXED_TZ;
      state.selectedExamIds = getSelectedIds();
      if (!state.selectedExamIds.length){
        updatePill();
        return;
      }
      saveState(state);
      window.location.href = "exam-page.html";
    });

    render();
  })();
</script>
</body>
</html>
